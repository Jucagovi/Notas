
create table
  public."Ciclos" (
    id_ciclo bigint generated by default as identity not null,
    created_at timestamp with time zone not null default now(),
    nombre character varying not null default ''::character varying,
    siglas character varying not null default ''::character varying,
    descripcion text null default ''::text,
    constraint Ciclos_pkey primary key (id_ciclo)
  ) tablespace pg_default;
  
  create table
  public."Cursos" (
    id_curso bigint generated by default as identity not null,
    created_at timestamp with time zone not null default now(),
    centro character varying not null default ''::character varying,
    nombre character varying not null default ''::character varying,
    descripcion text null default ''::text,
    anyo character varying not null default ''::character varying,
    constraint Cursos_pkey primary key (id_curso)
  ) tablespace pg_default;
  
  create table
  public."Discentes" (
    id_discente int8range not null,
    nombre text not null,
    apellidos text not null,
    correo text null,
    fecha_nac date null,
    constraint Discentes_pkey primary key (id_discente)
  ) tablespace pg_default;
  
  create table
  public."Evaluaciones" (
    id_evaluacion bigint generated by default as identity not null,
    created_at timestamp with time zone not null default now(),
    nombre character varying not null default ''::character varying,
    fecha_ini date null,
    fecha_fin date null,
    descripcion text null default ''::text,
    id_tipoevaluacion bigint null,
    constraint Evaluacion_pkey primary key (id_evaluacion),
    constraint Evaluacion_id_tipoevaluacion_fkey foreign key (id_tipoevaluacion) references "TipoEvaluacion" (id_tipoevaluacion)
  ) tablespace pg_default;
  
  create table
  public."Modulos" (
    id_modulo bigint generated by default as identity not null,
    created_at timestamp with time zone not null default now(),
    nombre character varying not null default ''::character varying,
    siglas character varying not null default ''::character varying,
    descripcion text null default ''::text,
    id_ciclo bigint null,
    constraint Modulos_pkey primary key (id_modulo),
    constraint Modulos_id_ciclo_fkey foreign key (id_ciclo) references "Ciclos" (id_ciclo)
  ) tablespace pg_default;
  
  create table
  public."Practicas" (
    id_practica bigint generated by default as identity not null,
    created_at timestamp with time zone not null default now(),
    nombre text not null default ''::text,
    numero character varying not null default ''::character varying,
    enunciado text not null default ''::text,
    descripcion text null default ''::text,
    id_tipopractica bigint not null,
    unidad character varying not null default ''::character varying,
    constraint Practicas_pkey primary key (id_practica),
    constraint Practicas_id_tipopractica_fkey foreign key (id_tipopractica) references "TipoPracticas" (id_tipopractica)
  ) tablespace pg_default;
  
  create table
  public."TipoEvaluacion" (
    id_tipoevaluacion bigint generated by default as identity not null,
    created_at timestamp with time zone not null default now(),
    nombre character varying not null default ''::character varying,
    descripcion text null default ''::text,
    constraint TipoEvaluacion_pkey primary key (id_tipoevaluacion)
  ) tablespace pg_default;
  
  create table
  public."TipoPracticas" (
    id_tipopractica bigint generated by default as identity not null,
    created_at timestamp with time zone not null default now(),
    nombre character varying not null default ''::character varying,
    descripcion text null default ''::text,
    constraint TipoPracticas_pkey primary key (id_tipopractica)
  ) tablespace pg_default;
  
  create table
  public."Versiones" (
    id_version bigint generated by default as identity not null,
    created_at timestamp with time zone not null default now(),
    curso character varying null default ''::character varying,
    descripcion text null default ''::text,
    notas_version text null default ''::text,
    id_practica bigint not null,
    constraint Versiones_pkey primary key (id_version),
    constraint Versiones_id_practica_fkey foreign key (id_practica) references "Practicas" (id_practica)
  ) tablespace pg_default;
  
  create table
  public.evaluan (
    id_evaluan bigint generated by default as identity not null,
    created_at timestamp with time zone not null default now(),
    peso smallint not null,
    curso character varying not null,
    id_evaluacion bigint not null,
    id_discente int8range not null,
    id_practica bigint not null,
    constraint evaluan_pkey primary key (id_evaluan),
    constraint evaluan_id_discente_fkey foreign key (id_discente) references "Discentes" (id_discente),
    constraint evaluan_id_evaluacion_fkey foreign key (id_evaluacion) references "Evaluaciones" (id_evaluacion),
    constraint evaluan_id_practica_fkey foreign key (id_practica) references "Practicas" (id_practica)
  ) tablespace pg_default;
  
  create table
  public.hacen (
    id_hacen bigint generated by default as identity not null,
    created_at timestamp with time zone not null default now(),
    curso character varying not null default ''::character varying,
    nota smallint not null,
    id_discente int8range not null,
    id_practica bigint not null,
    constraint hacen_pkey primary key (id_hacen),
    constraint hacen_id_discente_fkey foreign key (id_discente) references "Discentes" (id_discente),
    constraint hacen_id_practica_fkey foreign key (id_practica) references "Practicas" (id_practica)
  ) tablespace pg_default;
  
  create table
  public.imparte (
    id_imparte bigint generated by default as identity not null,
    created_at timestamp with time zone not null default now(),
    curso character varying null default ''::character varying,
    descripcion character varying null,
    id_curso bigint not null,
    id_ciclo bigint not null,
    constraint imparte_pkey primary key (id_imparte),
    constraint imparte_id_ciclo_fkey foreign key (id_ciclo) references "Ciclos" (id_ciclo),
    constraint imparte_id_curso_fkey foreign key (id_curso) references "Cursos" (id_curso)
  ) tablespace pg_default;
  
  create table
  public.matricula (
    id_matricula bigint generated by default as identity not null,
    created_at timestamp with time zone not null default now(),
    curso character varying not null default ''::character varying,
    descripcion text null default ''::text,
    repetidor boolean null,
    id_discente int8range not null,
    id_modulo bigint not null,
    constraint matricula_pkey primary key (id_matricula),
    constraint matricula_id_discente_fkey foreign key (id_discente) references "Discentes" (id_discente),
    constraint matricula_id_modulo_fkey foreign key (id_modulo) references "Modulos" (id_modulo)
  ) tablespace pg_default;
  
  create table
  public.poseen (
    id_poseen bigint generated by default as identity not null,
    created_at timestamp with time zone not null default now(),
    curso character varying not null default ''::character varying,
    id_modulo bigint not null,
    id_proactica bigint not null,
    constraint poseen_pkey primary key (id_poseen)
  ) tablespace pg_default;
  
  -- Datos de ejemplo para la tabla "Ciclos"
INSERT INTO public."Ciclos" (nombre, siglas, descripcion) VALUES
('Desarrollo de Aplicaciones Web', 'DAW', 'Ciclo formativo de grado superior para el desarrollo de aplicaciones web'),
('Administración de Sistemas Informáticos', 'ASI', 'Ciclo formativo de grado superior para la administración de sistemas informáticos');

INSERT INTO public."Cursos" (centro, nombre, descripcion, anyo) VALUES
('IES Tecnológico', '1º DAW', 'Primer curso de Desarrollo de Aplicaciones Web', '2024-2025'),
('IES Tecnológico', '2º DAW', 'Segundo curso de Desarrollo de Aplicaciones Web', '2024-2025'),
('IES Tecnológico', '1º ASI', 'Primer curso de Administración de Sistemas Informáticos', '2024-2025');

INSERT INTO public."Modulos" (nombre, siglas, descripcion, id_ciclo) VALUES
('Programación', 'PROG', 'Aprendizaje de programación básica', 1),
('Desarrollo Web en Entorno Cliente', 'DWEC', 'Desarrollo web con tecnologías del lado cliente', 1),
('Bases de Datos', 'BD', 'Aprendizaje de sistemas de bases de datos', 1),
('Seguridad Informática', 'SEG', 'Conceptos avanzados de seguridad informática', 2),
('Implantación de Sistemas', 'IS', 'Instalación y configuración de sistemas operativos', 2);

INSERT INTO public."Discentes" (id_discente, nombre, apellidos, correo, fecha_nac) VALUES
(1, 'María', 'López García', 'mlopez@example.com', '2002-06-15'),
(2, 'Juan', 'Pérez Martínez', 'jperez@example.com', '2003-02-20'),
(3, 'Ana', 'González Ruiz', 'agonzalez@example.com', '2001-12-10'),
(4, 'Carlos', 'Fernández Soto', 'cfernandez@example.com', '2002-03-05'),
(5, 'Laura', 'Ramírez Torres', 'lramirez@example.com', '2003-07-22');

INSERT INTO public."Practicas" (nombre, numero, enunciado, descripcion, id_tipopractica, unidad) VALUES
('Práctica 1', 'P1', 'Resolver ejercicios básicos de programación', 'Práctica introductoria', 1, 'Unidad 1'),
('Práctica 2', 'P2', 'Diseño de una base de datos', 'Práctica intermedia', 2, 'Unidad 2'),
('Práctica 3', 'P3', 'Desarrollar una página web interactiva', 'Práctica avanzada', 3, 'Unidad 3');

INSERT INTO public."Versiones" (curso, descripcion, notas_version, id_practica) VALUES
('2024-2025', 'Versión inicial', 'Primera iteración de la práctica', 7),
('2024-2025', 'Versión revisada', 'Actualización basada en feedback', 7),
('2024-2025', 'Versión inicial', 'Primera iteración de la práctica', 8),
('2024-2025', 'Versión revisada', 'Actualización basada en feedback', 8),
('2024-2025', 'Versión inicial', 'Primera iteración de la práctica', 9),
('2024-2025', 'Versión revisada', 'Actualización basada en feedback', 9);

INSERT INTO public."TipoEvaluacion" (nombre, descripcion) VALUES
('Parcial', 'Evaluación parcial de contenidos'),
('Global', 'Evaluación global del módulo'),
('Extraordinaria', 'Evaluación para recuperación');

INSERT INTO public."Evaluaciones" (nombre, fecha_ini, fecha_fin, descripcion, id_tipoevaluacion) VALUES
('Primera Evaluación', '2024-10-01', '2024-12-20', 'Evaluación inicial', 1),
('Segunda Evaluación', '2025-01-15', '2025-03-30', 'Evaluación intermedia', 2),
('Evaluación Final', '2025-04-01', '2025-06-20', 'Evaluación final', 3);

INSERT INTO public."TipoPracticas" (nombre, descripcion) VALUES
('Individual', 'Práctica realizada de forma individual'),
('Grupal', 'Práctica realizada en equipo'),
('Proyecto', 'Proyecto complejo integrador');

INSERT INTO public."matricula" (curso, descripcion, repetidor, id_discente, id_modulo) VALUES
('2024-2025', 'Primera inscripción', false, 1, 31),
('2024-2025', 'Primera inscripción', false, 1, 32),
('2024-2025', 'Primera inscripción', false, 1, 33),
('2024-2025', 'Primera inscripción', false, 2, 31),
('2024-2025', 'Primera inscripción', false, 2, 32);